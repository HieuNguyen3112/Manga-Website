<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Quản lý truyện</title>
    <link rel="stylesheet" href="../admin_css/styles.css">
    <script src="https://cdn.ckeditor.com/4.22.1/standard/ckeditor.js"></script>
</head>

<body>
    <div class="sidebar">
        <h2>MEOMEO</h2>
        <h3>Bảng điều khiển</h3>
        <ul>
            <li><a href="#" onclick="showSection('tongquan')"><i class="fas fa-tachometer-alt"></i> Tổng quan </a></li>
            <li>
                <a href="#" class="toggle-menu"><i class="fas fa-book"></i> Truyện <span class="arrow down"></span></a>
                <ul class="submenu hidden">
                    <li><a href="#" onclick="showSection('quanlytruyen')"><i class="fas fa-circle"></i> Danh sách
                            truyện</a></li>
                    <li><a href="#" onclick="showSection('quanlychuong')"><i class="fas fa-circle"></i> Danh sách
                            chương</a></li>
                    <li><a href="#" onclick="showSection('themmoitruyen')"><i class="fas fa-circle"></i> Thêm mới
                            truyện</a></li>
                </ul>
            </li>
            <li><a href="#" onclick="showSection('thongke')"><i class="fas fa-chart-bar"></i> Thống Kê</a></li>
            <li><a href="#" onclick="showSection('thanhvien')"><i class="fas fa-users"></i> Thành viên</a></li>
        </ul>
    </div>
    <div class="main-content">
        <header>
            <h1>Quản lý truyện</h1>
            <div class="user-info">
                <div class="user-dropdown">
                    <img src="../image/AKame.jpg" alt="User Avatar">
                    <div class="dropdown-content">
                        <img src="../image/AKame.jpg" alt="User Avatar">
                        <div class="additional-buttons">
                            <span>Chào Vinh</span>
                            <button>Xem thông tin</button>
                            <button>Đăng xuất</button>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        <main>
            <section id="tongquan" class="section hidden">
                <div class="stats">
                    <div class="stat-item">
                        <div class="stat-icon book">
                            <i class="fas fa-book"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Truyện</h3>
                            <span>18</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon like">
                            <i class="fas fa-thumbs-up"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Lượt thích</h3>
                            <span>4</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon eye">
                            <i class="fas fa-eye"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Lượt xem</h3>
                            <span>105</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon design">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="stat-info">
                            <h3>Thành viên</h3>
                            <span>2</span>
                        </div>
                    </div>
                </div>
                <div class="chart">
                    <h2>Top truyện có lượt xem cao nhất</h2>
                    <canvas id="topComicsChart"></canvas>
                </div>
            </section>
            <section id="quanlytruyen" class="section hidden">
                <div class="search-container">
                    <input type="text" id="searchInput" placeholder="Tìm kiếm theo tên truyện, số chương, danh mục">
                    <button id="searchButton">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <table>
                    <thead>
                        <tr>
                            <th>Hình ảnh</th>
                            <th>Tên truyện</th>
                            <th>Danh mục</th>
                            <th>Số chương</th>
                            <th>Tác giả</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody id="comicTableBody"></tbody>
                </table>
                <div id="pagination">
                    <span id="pageInfo"></span>
                </div>
                <!-- Modal Structure -->
                <div id="editModal" class="modal hidden">
                    <div class="modal-content">
                        <span class="close">&times;</span>
                        <form id="editForm">
                            <!-- Form content goes here -->
                            <label for="editHinhAnh">Hình ảnh:</label>
                            <input type="file" id="editHinhAnh" name="editHinhAnh">

                            <label for="editTenTruyen">Tên truyện:</label>
                            <input type="text" id="editTenTruyen" name="editTenTruyen">

                            <label for="editDanhMuc">Danh mục:</label>
                            <input type="text" id="editDanhMuc" name="editDanhMuc">

                            <!-- <label for="editSoChuong">Số chương:</label>
                            <input type="number" id="editSoChuong" name="editSoChuong"> -->

                            <label for="editTacgia">Tác giả:</label>
                            <input type="text" id="editTacgia" name="editTacgia">

                            <label for="editMoTaNgan">Mô tả ngắn:</label>
                            <textarea id="editMoTaNgan" name="editMoTaNgan"></textarea>

                            <button type="button" id="saveEdit">Lưu</button>
                        </form>
                    </div>
                </div>

                <div id="deleteModal" class="modal hidden">
                    <div class="modal-content">
                        <span class="close" id="closeDeleteModal">&times;</span>
                        <p>Bạn có chắc chắn muốn xóa truyện này không?</p>
                        <button id="confirmDelete">Xóa</button>
                        <button id="cancelDelete">Hủy</button>
                    </div>
                </div>
            </section>
            <section id="quanlychuong" class="section hidden">
                <div class="chapter-header">
                    <img id="chapterImage" src="../image/AKame.jpg" alt="Truyện Image">
                    <div>
                        <h1 id="chapterTitle"></h1>
                        <p id="chapterAuthor"><strong>Tác giả:</strong> </p>
                        <p id="chapterStatus"><strong>Trạng thái:</strong> </p>
                        <p id="chapterViews"><strong>Lượt xem:</strong></p>
                        <p id="chapterDescription"><strong>Mô tả:</strong></p>
                    </div>
                </div>
                <div class="chapters">
                    <h2>Danh Sách Chương</h2>
                    <button class="add-btn">Thêm chương mới</button>
                    <table>
                        <thead>
                            <tr>
                                <th>Tên chương</th>
                                <th>Ngày đăng</th>
                                <th>Thao tác</th>
                            </tr>
                        </thead>
                        <tbody id="chapterTableBody"></tbody>
                    </table>
                </div>
            </section>
            <section id="themmoitruyen" class="section hidden">
                <form id="addForm" enctype="multipart/form-data">
                    <div class="form-group">
                        <label for="addHinhAnh">Hình ảnh:</label>
                        <input type="file" id="addHinhAnh" name="hinhAnh" >
                    </div>
                    <div class="form-group">
                        <label for="addTenTruyen">Tên truyện:</label>
                        <input type="text" id="addTenTruyen" name="tenTruyen">
                    </div>
                    <div class="form-group">
                        <label for="addDanhMuc">Danh mục:</label>
                        <input type="text" id="addDanhMuc" name="danhMuc">
                    </div>
                    <div class="form-group">
                        <label for="addTacgia">Tác giả:</label>
                        <input type="text" id="addTacgia" name="tacgia">
                    </div>
                    <div class="form-group">
                        <label for="addMoTaNgan">Mô tả ngắn:</label>
                        <input type="text" id="addMoTaNgan" name="moTaNgan">
                    </div>
                    <div class="form-group">
                        <button type="submit" id="saveAddForm">Lưu</button>

                    </div>
                </form>
                
            </section>
            <section id="thongke" class="section hidden">
                <h2>Thống Kê</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Tên truyện</th>
                            <th>Lượt xem</th>
                            <th>Yêu thích</th>
                            <th>Đánh giá</th>
                            <th>Nội dung</th>
                        </tr>
                    </thead>
                    <tbody id="statsTableBody">
                        <!-- Các hàng thống kê sẽ được chèn vào đây -->
                    </tbody>
                </table>
            </section>
            <section id="thanhvien" class="section hidden">
                <h2>Danh sách thành viên</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Tên thành viên</th>
                            <th>Email</th>
                            <th>Ngày đăng ký</th>
                            <th>Vai trò</th>            
                            <!-- <th>Số lượt truyện truy cập</th>
                            <th>Nội dung yêu thích</th> -->
                        </tr>
                    </thead>
                    <tbody id="memberTableBody">
                        <!-- Dữ liệu thành viên sẽ được thêm vào đây -->
                    </tbody>
                </table>
            </section>
        </main>
    </div>
    <script src="../js/admin_js/code.js"></script>
    <script src="../js/admin_js/codequanlytruyen.js"></script>
    <script src="../js/admin_js/codequanlychuong.js"></script>
    <script src="../js/admin_js/codethongke.js"></script>
    <script src="../js/admin_js/codethanhvien.js"></script>
    <script>
        // Khởi tạo CKEditor
        document.addEventListener('DOMContentLoaded', function () {
            CKEDITOR.replace('addNoiDungTruyen');
        });

    </script>

    <script src="/backend//src/Components/NavBar/NavBarAdmin.js"></script>
    
</body>

</html>