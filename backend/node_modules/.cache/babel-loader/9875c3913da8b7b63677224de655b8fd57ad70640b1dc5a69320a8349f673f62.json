{"ast":null,"code":"import axios from \"axios\";\nimport { loginFailed, loginStart, loginSuccess, logOutFailed, logOutStart, logOutSuccess, registerFailed, registerStart, registerSuccess } from \"./authSlice\";\nimport { deleteUserFailed, deleteUsersSuccess, deleteUserStart, getUsersFailed, getUsersStart, getUsersSuccess } from \"./userSlice\";\n//npm install axios\n\nexport const loginUser = async (user, dispatch, navigate) => {\n  dispatch(loginStart());\n  try {\n    const res = await axios.post(\"/v1/auth/login\", user);\n    dispatch(loginSuccess(res.data));\n    navigate(\"/\");\n  } catch (err) {\n    dispatch(loginFailed());\n  }\n};\nexport const registerUser = async (user, dispatch, navigate) => {\n  dispatch(registerStart());\n  try {\n    await axios.post(\"/v1/auth/register\", user);\n    dispatch(registerSuccess());\n    navigate(\"/login\");\n  } catch (err) {\n    dispatch(registerFailed());\n  }\n};\nexport const getAllUsers = async (accessToken, dispatch, axiosJWT) => {\n  dispatch(getUsersStart());\n  try {\n    const res = await axiosJWT.get(\"/v1/user\", {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(getUsersSuccess(res.data));\n  } catch (err) {\n    dispatch(getUsersFailed());\n  }\n};\nexport const deleteUser = async (accessToken, dispatch, id, axiosJWT) => {\n  dispatch(deleteUserStart());\n  try {\n    const res = await axiosJWT.delete(\"/v1/user/\" + id, {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(deleteUsersSuccess(res.data));\n  } catch (err) {\n    dispatch(deleteUserFailed(err.response.data));\n  }\n};\nexport const logOut = async (dispatch, id, navigate, accessToken, axiosJWT) => {\n  dispatch(logOutStart());\n  try {\n    await axiosJWT.post(\"/v1/auth/logout\", id, {\n      headers: {\n        token: `Bearer ${accessToken}`\n      }\n    });\n    dispatch(logOutSuccess());\n    navigate(\"/login\");\n  } catch (err) {\n    dispatch(logOutFailed());\n  }\n};","map":{"version":3,"names":["axios","loginFailed","loginStart","loginSuccess","logOutFailed","logOutStart","logOutSuccess","registerFailed","registerStart","registerSuccess","deleteUserFailed","deleteUsersSuccess","deleteUserStart","getUsersFailed","getUsersStart","getUsersSuccess","loginUser","user","dispatch","navigate","res","post","data","err","registerUser","getAllUsers","accessToken","axiosJWT","get","headers","token","deleteUser","id","delete","response","logOut"],"sources":["C:/Users/WINDOWS/source/repos/CNPM/src/redux/apiRequest.js"],"sourcesContent":["import axios from \"axios\";\r\nimport {\r\n  loginFailed,\r\n  loginStart,\r\n  loginSuccess,\r\n  logOutFailed,\r\n  logOutStart,\r\n  logOutSuccess,\r\n  registerFailed,\r\n  registerStart,\r\n  registerSuccess,\r\n} from \"./authSlice\";\r\nimport {\r\n  deleteUserFailed,\r\n  deleteUsersSuccess,\r\n  deleteUserStart,\r\n  getUsersFailed,\r\n  getUsersStart,\r\n  getUsersSuccess,\r\n} from \"./userSlice\";\r\n//npm install axios\r\n\r\nexport const loginUser = async (user, dispatch, navigate) => {\r\n  dispatch(loginStart());\r\n  try {\r\n    const res = await axios.post(\"/v1/auth/login\", user);\r\n    dispatch(loginSuccess(res.data));\r\n    navigate(\"/\");\r\n  } catch (err) {\r\n    dispatch(loginFailed());\r\n  }\r\n};\r\n\r\nexport const registerUser = async (user, dispatch, navigate) => {\r\n  dispatch(registerStart());\r\n  try {\r\n    await axios.post(\"/v1/auth/register\", user);\r\n    dispatch(registerSuccess());\r\n    navigate(\"/login\");\r\n  } catch (err) {\r\n    dispatch(registerFailed());\r\n  }\r\n};\r\n\r\nexport const getAllUsers = async (accessToken, dispatch, axiosJWT) => {\r\n  dispatch(getUsersStart());\r\n  try {\r\n    const res = await axiosJWT.get(\"/v1/user\", {\r\n      headers: { token: `Bearer ${accessToken}` },\r\n    });\r\n    dispatch(getUsersSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(getUsersFailed());\r\n  }\r\n};\r\n\r\nexport const deleteUser = async (accessToken, dispatch, id, axiosJWT) => {\r\n  dispatch(deleteUserStart());\r\n  try {\r\n    const res = await axiosJWT.delete(\"/v1/user/\" + id, {\r\n      headers: { token: `Bearer ${accessToken}` },\r\n    });\r\n    dispatch(deleteUsersSuccess(res.data));\r\n  } catch (err) {\r\n    dispatch(deleteUserFailed(err.response.data));\r\n  }\r\n};\r\n\r\nexport const logOut = async (dispatch, id, navigate, accessToken, axiosJWT) => {\r\n  dispatch(logOutStart());\r\n  try {\r\n    await axiosJWT.post(\"/v1/auth/logout\", id, {\r\n      headers: { token: `Bearer ${accessToken}` },\r\n    });\r\n    dispatch(logOutSuccess());\r\n    navigate(\"/login\");\r\n  } catch (err) {\r\n    dispatch(logOutFailed());\r\n  }\r\n};\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}